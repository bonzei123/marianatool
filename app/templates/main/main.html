{% extends "layout.html" %}

{% block content %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">

    <div class="row mb-5">
        <div class="col">
            <h1 class="fw-bold">Willkommen, {{ current_user.username }}!</h1>
            <p class="text-muted">Deine Zentrale für Immobilien und Verwaltung.</p>
        </div>
    </div>

    <div class="row g-4">
        {% for tile in tiles %}
            <div class="col-md-6 col-lg-4">
                <a href="{{ url_for(tile.route_name) }}" class="tile" style="border-left: 5px solid {{ tile.color_hex }};">

                    {% if tile.badge_count and tile.badge_count > 0 %}
                        <div class="position-absolute top-0 end-0 mt-3 me-3">
                        <span class="badge rounded-pill bg-danger shadow-sm" style="font-size: 0.9rem;">
                            {{ tile.badge_count }}
                        </span>
                        </div>
                    {% endif %}

                    <div class="tile-icon" style="color: {{ tile.color_hex }};">
                        <i class="bi {{ tile.icon }}"></i>
                    </div>
                    <div class="tile-title" style="color: {{ tile.color_hex }};">
                        {{ tile.title }}
                    </div>
                    <div class="tile-desc">
                        {{ tile.description }}
                    </div>
                </a>
            </div>
        {% else %}
            <div class="col-12 text-center text-muted py-5">
                <i class="bi bi-inbox fs-1"></i><br>
                Keine Apps verfügbar. Bitte wende dich an den Admin.
            </div>
        {% endfor %}
    </div>
        <script src="{{ url_for('static', filename='js/onboarding.js') }}"></script>

{% endblock %}